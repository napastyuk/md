
| Type                            | Размер           | Тип                                       | Диапазон                                    | Точность                     |
| ------------------------------- | ---------------- | ----------------------------------------- | ------------------------------------------- | ---------------------------- |
| `character[(n)]` , `char [(n)]` | переменной длины | строка с ограничением максимальной длины  | сколько указано                             | 1 символ                     |
| `text`                          |                  | строк без ограничения длинны              | без ограничений                             | 1 символ                     |
| `integer`, int, int4            | 4 байта          | типичный выбор для целых чисел            | -2147483648 .. +2147483647                  | 1                            |
| `bigint`                        | 8 байт           | целое в большом диапазоне                 | -9223372036854775808 .. 9223372036854775807 | 1                            |
| `real`                          | 4 байта          | вещественное число с переменной точностью | -2147483648 .. +2147483647                  | в пределах 6 десятичных цифр |
| `timestamp`                     | 8 байт           | дата и время (без часового пояса)         | 4713 до н. э.   ..   294276 н. э.           | 1 микросекунда               |
| `date`                          | 4 байта          | дата (без времени суток)                  | 4713 до н. э.   ..   5874897 н. э.          | 1 день                       |
| `time`                          | 8 байт           | время суток (без даты)                    | 00:00:00 ..  24:00:00                       | 1 микросекунда               |
| `boolean`                       | 1 байт           | true или false                            | -                                           | -                            |
Для незаданных или стертых полей используется `NULL`

Пример вставки данных
```sql
CREATE TABLE students (
  -- Одновременное использование и первичного ключа и автогенерации
  id BIGINT GENERATED BY DEFAULT AS IDENTITY,
  first_name VARCHAR(50), 
  last_name VARCHAR(50), 
  email VARCHAR(255), 
  bio VARCHAR(400), 
  is_studying BOOLEAN, 
  updated_at TIMESTAMP, 
  created_at TIMESTAMP
);

INSERT INTO students (first_name, last_name, email, bio, is_studying, updated_at, created_at)
VALUES 
('Vasya', 'Pupkin', 'vasya@hexlet.test', 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi iaculis massa ut neque gravida pellentesque.', TRUE, '2024-01-01', '2024-01-01'),
('Vasya', 'Pupkin', 'vasya@hexlet.test', 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi iaculis massa ut neque gravida pellentesque.', TRUE, '2024-01-01', '2024-01-01')
```

- текстовое значение в ячейку всегда оборачивается только в одинарные кавычки
- если есть сложности с названием колонок их можно обернуть в магические кавычки     \` title\` 


## Какой тип данных задавать для ID

**Вариант 1: `serial` с автоинкрементом и первичным ключом**
```sql
ALTER TABLE film
ADD COLUMN id serial PRIMARY KEY;

--что на самам деле эквивалентно

-- 1. Добавить колонку
ALTER TABLE film
ADD COLUMN id integer;

-- 2. Создать последовательность
CREATE SEQUENCE film_id_seq;

-- 3. Установить значения
UPDATE film
SET id = nextval('film_id_seq');

-- 4. Сделать колонку автоинкрементной по умолчанию
ALTER TABLE film
ALTER COLUMN id SET DEFAULT nextval('film_id_seq');

-- 5. (опционально) Назначить PRIMARY KEY
ALTER TABLE film
ADD PRIMARY KEY (id);
```
- Добавляется колонка `id` типа `integer`
- Создается последовательность для автоувеличения чтобы значение по умолчанию для новой строки был новый id
- Можно выбрать тип в зависимости от размера данных

| Имя           | Размер  | Описание                          | Диапазон                 |
| ------------- | ------- | --------------------------------- | ------------------------ |
| `smallserial` | 2 байта | небольшое целое с автоувеличением | 1 .. 32767               |
| `serial`      | 4 байта | целое с автоувеличением           | 1 .. 2147483647          |
| `bigserial`   | 8 байт  | большое целое с автоувеличением   | 1 .. 9223372036854775807 |

**Вариант 2: `GENERATED ... AS IDENTITY` (современный способ)**
```sql
ALTER TABLE film
ADD COLUMN id bigint GENERATED ALWAYS AS IDENTITY PRIMARY KEY;
```
- соответствие стандарту SQL
- современный и рекомендуемый способ с PostgreSQL 10+

Песочница https://www.db-fiddle.com/

Ссылка на доку (ru)  https://postgrespro.ru/docs/postgresql/17/datatype

#sql #php/db