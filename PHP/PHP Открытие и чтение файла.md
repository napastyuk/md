#php/файлы  

В PHP много разных функций для работы с файлами для разных случаев

- **Маленькие файлы:**
    - **Читать файл целиком:** `file_get_contents`, `file`.
    - **Выводить содержимое:** `readfile`.
- **Большие файлы:**
    - **Читать построчно:** `fopen` + `fgets`.
- **Специальные случаи:**
	- **Стриминг:** `fpassthru`, `stream_get_contents`.
    - **Сжатые файлы:** `gzopen`.
    - **Временные файлы:** `tmpfile`.
    - **Работа с процессами:** `popen`.

| **Функция**               | **Назначение**                                                                                | **Возвращаемое значение**               | **Когда использовать?**                                                    | **Особенности**                                                                            |
| ------------------------- | --------------------------------------------------------------------------------------------- | --------------------------------------- | -------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------ |
| **`file`**                | Чтение файла построчно и возврат массива строк.                                               | Массив строк или `false`.               | Когда нужно построчно прочитать небольшой файл.                            | Простая в использовании, но загружает весь файл в память, что плохо для больших файлов.    |
| **`file_get_contents`**   | Чтение содержимого файла целиком в строку.                                                    | Строка или `false`.                     | Когда нужно получить весь файл как строку, например, для работы с текстом. | Простая альтернатива `fopen` для чтения небольших файлов.                                  |
| **`readfile`**            | Считывает файл и выводит его содержимое напрямую в поток (например, в браузер).               | Количество байтов или `false`.          | Для быстрого вывода содержимого файла (например, изображений).             | Не загружает файл в переменную, выводит данные напрямую.                                   |
| **`fopen`**               | Открытие файла или URL для работы с ним (чтение/запись).                                      | Ресурс (указатель на файл) или `false`. | Для работы с файлами построчно или записи данных.                          | Поддерживает различные режимы (`r`, `w`, `a` и т.д.), подходит для больших файлов.         |
| **`fpassthru`**           | Выводит оставшееся содержимое открытого файла (ресурса).                                      | Количество байтов или `false`.          | Для вывода данных из файла после его открытия через `fopen`.               | Используется для потокового вывода данных, избегая их предварительной загрузки в память.   |
| **`stream_get_contents`** | Читает оставшееся содержимое из открытого ресурса (например, файл или сетевое подключение).   | Строка или `false`.                     | Когда нужно прочитать часть данных из потока или остаток файла.            | Гибкость в работе с ресурсами.                                                             |
| **`gzopen`**              | Открытие сжатого файла в формате GZIP.                                                        | Ресурс или `false`.                     | Для работы с архивами `.gz`.                                               | Требует специальных функций (`gzread`, `gzwrite`, `gzclose`) для работы с сжатыми файлами. |
| **`tmpfile`**             | Создание временного файла, который автоматически удаляется после завершения скрипта.          | Ресурс или `false`.                     | Для временного хранения данных без необходимости очищать их вручную.       | Полезна для временных данных, автоматически удаляет файл.                                  |
| **`popen`**               | Открытие процесса (вместо файла) для взаимодействия с командной строкой операционной системы. | Ресурс или `false`.                     | Для выполнения системных команд и чтения/записи данных из них.             | Позволяет запускать команды ОС. Требует закрытия с помощью `pclose`.                       |

